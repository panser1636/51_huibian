A51 MACRO ASSEMBLER  Q3_2                                                                 12/01/2022 12:06:01 PAGE     1


MACRO ASSEMBLER A51 V8.02
OBJECT MODULE PLACED IN Q3_2.OBJ
ASSEMBLER INVOKED BY: D:\Ñ§Ï°\EE\51\C51\BIN\A51.EXE Q3_2.asm SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     ;¸øÎ»Ê¾Ý¶¨Òå±êÊ¶·û---ÓÃ»§×Ô¼º¶¨ÒåµÄÎ»Ãû³Æ 
                       2     
  0083                 3             SMG0    BIT             P0.3    ;¸öÎ»ÊÂë¹Ü
  0082                 4             SMG1    BIT             P0.2    ;Ê®Î»ÊÂë¹Ü
  0081                 5             SMG2    BIT             P0.1    ;°ÙÎ»ÊÂë¹Ü
  0080                 6             SMG3    BIT             P0.0    ;Ç§Î»ÊÂë¹Ü
                       7     
  0087                 8             DAT             BIT             P0.7    ;SER
  0086                 9             RST             BIT             P0.6    ;G'
  0085                10             RCK             BIT             P0.5    ;RCK
  0084                11             SCK             BIT             P0.4    ;SRCK
                      12     
                      13             ; ÅäÖÃÖÐ¶Ï
0013                  14             ORG 0013H ;´®ÐÐÖÐ¶Ï1Èë¿ÚµØÖ·
0013 0200A5           15             LJMP MAIN3
0003                  16             ORG 0003H ;´®ÐÐÖÐ¶Ï0Èë¿ÚµØÖ·
0003 02014F           17             LJMP MAIN4
                      18             
0000                  19             ORG 0000H
0000 802E             20             SJMP    MAIN1
                      21     
0030                  22             ORG 0030H
                      23     
                      24     ;----------------------------------------------------------------------
                      25     ;------------------¹¦ÄÜ1£ºÊÂë¹ÜÏÔÊ¾LION ------------------------------
                      26     ;----------------------------------------------------------------------
                      27     
0030                  28     MAIN1: 
0030 D2AA             29              SETB EX1                        ;ÔÊÐíÖÐ¶Ï1ÖÐ¶Ï
0032 D28A             30              SETB IT1                        ;ÏÂ½µÑØ´¥·¢
0034 D2BA             31              SETB PX1       
0036 759850           32              MOV SCON,#50H           ;¹¤×÷·½Ê½2£¬½ÓÊÕÔÊÐí
                      33                     
0039 D2AF             34              SETB EA                                 ;ÔÊÐíÈ«¾ÖÖÐ¶Ï
003B D2A8             35              SETB EX0                        ;ÔÊÐíÖÐ¶Ï1ÖÐ¶Ï
003D D288             36              SETB IT0                        ;ÏÂ½µÑØ´¥·¢
003F D2B8             37              SETB PX0       
0041 759850           38              MOV SCON,#50H           ;¹¤×÷·½Ê½2£¬½ÓÊÕÔÊÐí 
                      39     
0044 758160           40              MOV     SP,#60H   ;Õ»Ö¸Õë£¬´ËÐÐ±£Áô²»¸ü¸Ä
0047 7C12             41              MOV     R4,#18   ;'n'¶ÎÂë
0049 11EC             42              ACALL   LIGHT   ;µ÷ÓÃ×Ó³ÌÐò£¬Êä³öÁÁµÆÐÅºÅ
004B D283             43              SETB    SMG0   ;Æ¬Ñ¡¸öÎ»
004D 11E3             44              ACALL   S_DELAY   ;¼ÓÈëÑÓÊ±£¬Ìá¸ßÏÔÊ¾ÁÁ¶È
                      45             
004F 7C00             46              MOV     R4,#00      ;'0'¶ÎÂë
0051 11EC             47              ACALL   LIGHT      ;µ÷ÓÃ×Ó³ÌÐò£¬Êä³öÁÁµÆÐÅºÅ
0053 D282             48              SETB    SMG1      ;Æ¬Ñ¡Ê®Î»
0055 11E3             49              ACALL   S_DELAY      ;¼ÓÈëÑÓÊ±£¬Ìá¸ßÏÔÊ¾ÁÁ¶È
                      50             
0057 7C01             51              MOV     R4,#01   ;'1'¶ÎÂë
0059 11EC             52              ACALL   LIGHT   ;µ÷ÓÃ×Ó³ÌÐò£¬Êä³öÁÁµÆÐÅºÅ
005B D281             53              SETB    SMG2   ;Æ¬Ñ¡°ÙÎ»
005D 11E3             54              ACALL   S_DELAY   ;¼ÓÈëÑÓÊ±£¬Ìá¸ßÏÔÊ¾ÁÁ¶È
                      55             
005F 7C11             56              MOV     R4,#17   ;'L'¶ÎÂë
0061 11EC             57              ACALL   LIGHT   ;µ÷ÓÃ×Ó³ÌÐò£¬Êä³öÁÁµÆÐÅºÅ
0063 D280             58              SETB    SMG3   ;Æ¬Ñ¡Ç§Î»
A51 MACRO ASSEMBLER  Q3_2                                                                 12/01/2022 12:06:01 PAGE     2

0065 11E3             59              ACALL   S_DELAY   ;¼ÓÈëÑÓÊ±£¬Ìá¸ßÏÔÊ¾ÁÁ¶È
                      60     
0067 7C00             61              MOV     R4,#00H
0069 310E             62              ACALL   KB
006B BC0003           63              CJNE    R4,#00H,MAIN2
006E 80C0             64              SJMP    MAIN1   ;Ñ­»·ÏÔÊ¾
0070 32               65              RETI
                      66     
                      67             
0071                  68     MAIN2:
                      69             
0071 758160           70             MOV     SP,#60H             ;Õ»Ö¸Õë£¬´ËÐÐ±£Áô²»¸ü¸Ä
0074 7C16             71             MOV     R4,#22          ;³õÊ¼ÏÔÊ¾'.'¶ÎÂë
                      72     
                      73     
                      74     ;----------------------------------------------------------------------
                      75     ;------------------¹¦ÄÜ3£º¾ØÕó¼üÅÌ¹ö¶¯ÏÔÊ¾---------------------------------
                      76     ;----------------------------------------------------------------------
                      77     
                      78     
                      79     ;¹ö¶¯ÏÔÊ¾
0076                  80     SCR0LL_LIGHT:                   
0076 12010E           81             LCALL   KB              ;µ÷ÓÃ×Ó³ÌÐò£¬ÅÐ¶Ï°´¼ü£¬³ö¿Ú²ÎÊR4
0079 11EC             82             ACALL   LIGHT                   ;µ÷ÓÃ×Ó³ÌÐò£¬Èë¿Ú²ÎÊR4,Êä³öÁÁµÆÐÅºÅ
007B D280             83             SETB    SMG3                    ;Æ¬Ñ¡Ç§Î»
007D 7D02             84             MOV     R5,#02                  ;ÑÓÊ±´ÎÊ
007F 11DB             85             ACALL   L_DELAY                 ;ÑÓÊ±£¬²úÉú¹ö¶¯Ð§¹û
                      86             
0081 12010E           87             LCALL   KB              ;µ÷ÓÃ×Ó³ÌÐò£¬ÅÐ¶Ï°´¼ü£¬³ö¿Ú²ÎÊR4        
0084 11EC             88             ACALL   LIGHT                   ;µ÷ÓÃ×Ó³ÌÐò£¬Èë¿Ú²ÎÊR4,Êä³öÁÁµÆÐÅºÅ
0086 D281             89             SETB    SMG2                    ;Æ¬Ñ¡°ÙÎ»
0088 7D02             90             MOV     R5,#02                  ;ÑÓÊ±´ÎÊ
008A 11DB             91             ACALL   L_DELAY                 ;ÑÓÊ±£¬²úÉú¹ö¶¯Ð§¹û
                      92     
008C 12010E           93             LCALL   KB              ;µ÷ÓÃ×Ó³ÌÐò£¬ÅÐ¶Ï°´¼ü£¬³ö¿Ú²ÎÊR4
008F 11EC             94             ACALL   LIGHT                   ;µ÷ÓÃ×Ó³ÌÐò£¬Èë¿Ú²ÎÊR4,Êä³öÁÁµÆÐÅºÅ
0091 D282             95             SETB    SMG1                    ;Æ¬Ñ¡Ê®Î»
0093 7D02             96             MOV     R5,#02                  ;ÑÓÊ±´ÎÊ
0095 11DB             97             ACALL   L_DELAY                 ;ÑÓÊ±£¬²úÉú¹ö¶¯Ð§¹û
                      98     
0097 12010E           99             LCALL   KB              ;µ÷ÓÃ×Ó³ÌÐò£¬ÅÐ¶Ï°´¼ü£¬³ö¿Ú²ÎÊR4
009A 11EC            100             ACALL   LIGHT                   ;µ÷ÓÃ×Ó³ÌÐò£¬Èë¿Ú²ÎÊR4,Êä³öÁÁµÆÐÅºÅ
009C D283            101             SETB    SMG0                    ;Æ¬Ñ¡¸öÎ»
009E 7D02            102             MOV     R5,#02                  ;ÑÓÊ±´ÎÊ
00A0 11DB            103             ACALL   L_DELAY                 ;ÑÓÊ±£¬²úÉú¹ö¶¯Ð§¹û
                     104     
00A2 80D2            105             SJMP    SCR0LL_LIGHT    ;Ñ­»·¹ö¶¯
00A4 32              106             RETI
                     107     
                     108     
                     109     ;----------------------------------------------------------------------
                     110     ;------------------¹¦ÄÜ4£º×Ô·¢×ÔÊÕ´®¿ÚÍ¨ÐÅ-----------------------------
                     111     ;----------------------------------------------------------------------
                     112     
                     113     
00A5                 114     MAIN3:
00A5 758DF3          115             MOV TH1,#0F3H            ;×°Èë¶¨Ê±³£Ê
00A8 758BF3          116             MOV TL1,#0F3H
00AB 758920          117             MOV TMOD,#20H        ;¶¨Ê±Æ÷1£¬×Ô¶¯ÖØ×°³õÖµÄ£Ê½
00AE 758780          118             MOV PCON,#80H            ;²¨ÌØÂÊ¼Ó±¶
00B1 759850          119             MOV SCON,#50H      ;·½Ê½2
00B4 D28E            120             SETB     TR1
                     121                     
00B6 1200C8          122             LCALL SEND                       ;¶ÁÈ¡°´¼üÖµ£¬·¢ËÍ
00B9 1200D4          123             LCALL REC                        ;½ÓÊÕ  
00BC 11EC            124     LIGHT_3:        ACALL   LIGHT                   ;µ÷ÓÃ×Ó³ÌÐò£¬Èë¿Ú²ÎÊR4,Êä³öÁÁµÆÐÅºÅ
A51 MACRO ASSEMBLER  Q3_2                                                                 12/01/2022 12:06:01 PAGE     3

00BE D280            125             SETB    SMG3                    ;Æ¬Ñ¡Ç§Î»
00C0 7D02            126             MOV     R5,#02                  ;ÑÓÊ±´ÎÊ
00C2 11DB            127             ACALL   L_DELAY                 ;ÑÓÊ±
00C4 0200BC          128             LJMP    LIGHT_3           ;Ñ­»·
00C7 32              129             RETI 
                     130     
00C8                 131     SEND:
00C8 12010E          132             LCALL KB                   ;»ñÈ¡¾ØÕó°´¼üµÄÖµ 
00CB EC              133             MOV A,R4
00CC F599            134             MOV SBUF,A                       ;·¢ËÍ
00CE 3099FD          135             JNB TI,$             ;·¢ËÍ±êÖ¾£¬ti=0Ê±Î´·¢ËÍ£¬ti=1Ê±·¢ËÍ£¬µÈ´ÖÐ¶Ï
00D1 C298            136             CLR RI               ;ÇåÁã£¬ÖØÐÂ·¢ËÍ
00D3 22              137             RET
                     138     
00D4                 139     REC:
00D4 E599            140             MOV A,SBUF                        ;½ÓÊÕ
00D6 3098FD          141             JNB RI,$                          ;½ÓÊÕÖÐ¶Ï±êÖ¾£¬RI=0Ê±Î´½ÓÊÕ£¬ri=1Ê±·¢ËÍ£¬µÈ´ÖÐ¶Ï 
                                         
00D9 FC              142             MOV R4,A
00DA 22              143             RET             
                     144     
                     145     ;ÑÓÊ±×Ó³ÌÐò
                     146     ;time=(((R3*2)+3)*R2+3)*1us
00DB                 147     L_DELAY:
                     148             ;¿Éµ÷³¤¶È³¤ÑÓÊ±£¬²ÎÊÈë¿ÚR5:ÖÐÑÓÊ±´ÎÊ
00DB 11DF            149             ACALL   M_DELAY
00DD DDFC            150             DJNZ    R5,L_DELAY                                                               
00DF                 151     M_DELAY:
                     152             ;ÖÐÑÓÊ±£¬time=0.131s
00DF 7AFF            153         MOV     R2,#0FFH
00E1 8002            154             SJMP    DELAY0
00E3                 155     S_DELAY:                                   
                     156             ;¶ÌÑÓÊ±£¬ÓÃÓÚÈ¥¶¶£¬time=12.828ms
00E3 7A19            157             MOV     R2,#19H
00E5                 158     DELAY0:
00E5 7BFF            159         MOV     R3,#0FFH
00E7                 160     DELAY1:
00E7 DBFE            161         DJNZ    R3,DELAY1
00E9 DAFA            162             DJNZ    R2,DELAY0
00EB 22              163             RET
                     164     
                     165     ;ÁÁµÆÐÅºÅ³ÌÐò
                     166     ;Èë¿Ú²ÎÊR4£º¶ÎÂë         
00EC                 167     LIGHT:          
00EC C283            168             CLR             SMG0                    ;Î»Ñ¡ÎÞÐ§£¬¹ØÊÂë¹Ü
00EE C282            169             CLR             SMG1
00F0 C281            170             CLR             SMG2
00F2 C280            171             CLR             SMG3
                     172     
00F4 EC              173         MOV     A,R4                        
00F5 11F8            174         ACALL       SMGDIP
00F7 22              175             RET
                     176     
                     177     ;ÏÔÊ¾×Ó³ÌÐò¹¦ÄÜ£º¶ÎÂëËÍÊÂë¹Ü
                     178     ;Èë¿Ú²ÎÊ£ºA£ºÏÔÊ¾Ê×Ö
                     179     ;²é±íÏÔÊ¾×Ö·û
00F8                 180     SMGDIP: 
00F8 9001F3          181         MOV     DPTR,#SMGTAB
00FB 93              182             MOVC    A,@A+DPTR               ;²é¶ÎÂë±íµÃµ½ÏÔÊ¾Ê×ÖµÄ¶ÎÂëÖµ
00FC C286            183         CLR         RST                         ; Êä³öÊ¹ÄÜ
00FE 7A08            184             MOV         R2,#8           ;×Ü´«ÊäÎ»Ê
                     185         ;´®ÐÐÊäÈëSN74HC595
0100                 186     SER:    
0100 33              187         RLC     A                           ;Ê¾Ý´ø½øÎ»Ñ­»·×óÒÆ£¬½øÎ»ÎªÓÐÐ§Î»
0101 9287            188             MOV         DAT,C                       ;½øÎ»´«ÈëÊ¾Ý¿Ú
0103 C284            189             CLR             SCK                             ;Ê¾ÝÊäÈëÊ±ÖÓÏÂ½µÑØ
A51 MACRO ASSEMBLER  Q3_2                                                                 12/01/2022 12:06:01 PAGE     4

0105 D284            190             SETB    SCK                             ;Ê¾ÝÊäÈëÊ±ÖÓÉÏ½µÑØ£¬Ä¿µÄÊ¹Ê¾Ý´æÈëÒÆÎ»¼Ä´æÆ÷
0107 DAF7            191             DJNZ    R2,SER
0109 C285            192             CLR             RCK                             ;Ëø´æÊ±ÖÓÏÂ½µÑØ
010B D285            193             SETB    RCK                             ;Ëø´æÊ±ÖÓÉÏ½µÑØ£¬Ä¿µÄ´«ÈëËø´æÆ÷£¬Êä³ö
010D 22              194             RET                                         ;×Ó³ÌÐò³ö¿Ú
                     195     
                     196     
                     197     ;----------------------------------------------------------------------
                     198     ;------------------¹¦ÄÜ2£º¾ØÕó¼üÅÌÊ¶±ð---------------------------------
                     199     ;----------------------------------------------------------------------
                     200     
                     201     
                     202     
                     203     ;¼üÅÌÊäÈë×Ó³ÌÐò³ÌÐò¹¦ÄÜ£º·´¼«·¨ÅÐ¶Ï¼üÈë
                     204     ;³ö¿Ú²ÎÊR4£º¼üÅÌ±àºÅ£¨0~f)
                     205     ;-------¾ØÕó¼üÅÌÐÐÁÐ¶ÔÕÕ±í--------
                     206     ;      P2.0    P2.1    P2.2    P2.3
                     207     ;P2.7 S16(0)  S12(1)  S08(2)  S04(3)
                     208     ;P2.6 S15(4)  S11(5)  S07(6)  S03(7)
                     209     ;P2.5 S14(8)  S10(9)  S06(A)  S02(B)
                     210     ;P2.4 S13(C)  S09(D)  S05(E)  S01(F)
010E                 211     KB:
010E 75A0F0          212             MOV     P2,#0F0H        ;ÁÐÏßËÍ³öÈ«0ÐÅºÅ
0111 E5A0            213             MOV     A,P2            ;¶ÁÈ¡ÐÐÏßÖµ
0113 54F0            214             ANL     A,#0F0H         ;ÓëÔ­×´Ì¬ÏàÓë£¬ÈôÎÞÊäÈëA²»±ä
0115 B4F001          215             CJNE    A,#0F0H,K1              ;AÖµ±ä»¯ÔòÓÐ¼üÈë£¬²»±äÔòÍË³ö×Ó³ÌÐò
0118 22              216             RET
0119                 217     K1:
0119 1200E3          218         LCALL   S_DELAY         ;ÑÓÊ±×Ó³ÌÐòÈ¥¶¶¶¯
011C 75A0F0          219             MOV     P2,#0F0H        ;ÁÐÏßÔÙ´ÎËÍ³öÈ«0ÐÅºÅ
011F E5A0            220             MOV     A,P2            ;ÔÙ´Î¶ÁÈ¡ÐÐÏßÖµ
0121 54F0            221             ANL     A,#0F0H         ;ÔÙ´ÎÓëÔ­×´Ì¬ÏàÓë
0123 B4F001          222             CJNE    A,#0F0H,K2              ;AÖµ±ä»¯ÔòÓÐÎÈ¶¨¼üÈë
0126 22              223             RET
0127                 224     K2:
0127 FD              225         MOV     R5,A            ;¼ÇÏÂÐÐÏßÖµ
0128 75A00F          226             MOV     P2,#0FH         ;ÐÐÏßËÍ³öÈ«0ÐÅºÅ
012B E5A0            227             MOV     A,P2            ;¶ÁÈ¡ÁÐÏßÖµ
012D                 228     K3:
012D 4D              229             ORL     A,R5            ;»òÔËËãÈ¡µÃ¼üÖµ
012E F5F0            230             MOV     B,A             ;ÔÝ´æ¼üÖµ
0130                 231     K4:
0130 E5A0            232             MOV     A,P2                    ;¶ÁÈ¡ÁÐÏßÖµ
0132 B40FFB          233             CJNE    A,#0FH,K4      ;ÅÐ¶Ï¼üÊÇ·ñÊÍ·Å£¬ÈôÊÍ·ÅÔò¼ÌÐø³ÌÐò
0135                 234     K5:
0135 1200E3          235         LCALL   S_DELAY         ;ÑÓÊ±×Ó³ÌÐòÈ¥¶¶¶¯
0138 E5A0            236             MOV     A,P2                    ;ÔÙ´Î¶ÁÈ¡ÁÐÏßÖµ
013A B40FF3          237             CJNE    A,#0FH,K4      ;ÔÙ´Î¶ÁÈ¡ÁÐÏßÖµÈ·ÈÏ°´¼üÒÑÎÈ¶¨ÊÍ·Å
013D                 238     K6:
013D 7E0F            239             MOV     R6,#15          ;Ê®Áù¼ü²é±í¼ÆÊ³õÖµ
013F 7C00            240             MOV     R4,#0                   ;¼ÆÊÖ¸Õë
0141 90020B          241             MOV     DPTR,#KEYTAB    ;×°Èë¾ØÕó¼üÅÌÐÐÁÐ¶ÔÕÕ±íÍ·
0144                 242     K7:
0144 EC              243         MOV     A,R4            ;Ö¸Õë¸³Öµ¸øA
0145 93              244             MOVC    A,@A+DPTR               ;½«°´¼üÖµÓë¾ØÕó¼üÅÌÐÐÁÐ¶ÔÕÕ±í±È½Ï
0146 B5F002          245             CJNE    A,B,K8         ;Öµ²»ÏàÍ¬ÌøÈëÏÂ´Î±È½Ï
0149 214E            246             AJMP    K9             ;Ìø×ª×Ó³ÌÐò³ö¿Ú
014B                 247     K8:
014B 0C              248             INC     R4               ;¼ÆÊÖ¸Õë×ÔÔö
014C DEF6            249             DJNZ    R6,K7          ;Î´Ö¸Ïò×îºóÒ»Î»Ôò½øÈëÏÂÒ»´Î±È½Ï
014E                 250     K9:
014E 22              251         RET                     ;×Ó³ÌÐò³ö¿Ú
                     252     
                     253     
                     254     ;----------------------------------------------------------------------
                     255     ;------------------¹¦ÄÜ4£ºÓëµçÄÔ¶Ë´®¿ÚÍ¨ÐÅ-----------------------------
A51 MACRO ASSEMBLER  Q3_2                                                                 12/01/2022 12:06:01 PAGE     5

                     256     ;----------------------------------------------------------------------
014F                 257     MAIN4:  
                     258             
014F 758920          259             MOV TMOD,#20H        ;¶¨Ê±Æ÷1£¬×Ô¶¯ÖØ×°³õÖµÄ£Ê½4800bit/s
0152 759850          260             MOV SCON,#50H        ;·½Ê½2
0155 758780          261             MOV PCON,#80H            ;²¨ÌØÂÊ¼Ó±¶
0158 758DF3          262             MOV TH1,#0F3H            ;×°Èë¶¨Ê±³£Ê
015B 758BF3          263             MOV TL1,#0F3H
                     264     
015E D28E            265             SETB     TR1
                     266     
0160 7900            267             MOV R1,#00
0162                 268     SEND_4:
0162 E9              269             MOV A,R1    
0163 9001D8          270             MOV DPTR,#TELEPHONE_NUMBER
0166 93              271             MOVC A,@A+DPTR
                     272             ;MOV B,A
                     273             ;LCALL K6_4
                     274             ;MOV A,R4
0167 C299            275             CLR TI
0169 F599            276             MOV SBUF,A                       ;·¢ËÍ
016B 3099FD          277             JNB TI,$             ;·¢ËÍ±êÖ¾£¬ti=0Ê±Î´·¢ËÍ£¬ti=1Ê±·¢ËÍ£¬µÈ´ÖÐ¶Ï       
016E 09              278             INC R1            
016F B90BF0          279             CJNE R1,#11,SEND_4               ;µÈÓÚ11£¬Ìø×ª
0172 020175          280             LJMP G1
                     281     
                     282     ;¹ö¶¯ÏÔÊ¾
0175                 283     G1:
0175 780A            284             MOV R0,#10
0177                 285     GUN_PRINT:
0177 E8              286             MOV A,R0     
0178 9001D8          287             MOV DPTR,#TELEPHONE_NUMBER
017B 93              288             MOVC A,@A+DPTR
                     289     
017C F5F0            290             MOV B,A
017E 1201C6          291             LCALL K6_4
                     292     
0181 11EC            293             ACALL   LIGHT                   ;µ÷ÓÃ×Ó³ÌÐò£¬Èë¿Ú²ÎÊR4,Êä³öÁÁµÆÐÅºÅ
0183 D280            294             SETB    SMG3                    ;Æ¬Ñ¡Ç§Î»
0185 7D02            295             MOV     R5,#02                  ;ÑÓÊ±´ÎÊ
0187 11DB            296             ACALL   L_DELAY                 ;ÑÓÊ±£¬²úÉú¹ö¶¯Ð§¹û 
                     297             
                     298             
0189 E8              299             MOV A,R0  
018A 9001D8          300             MOV DPTR,#TELEPHONE_NUMBER   
018D 93              301             MOVC A,@A+DPTR
018E F5F0            302             MOV B,A
0190 1201C6          303             LCALL K6_4
0193 11EC            304             ACALL   LIGHT                   ;µ÷ÓÃ×Ó³ÌÐò£¬Èë¿Ú²ÎÊR4,Êä³öÁÁµÆÐÅºÅ
0195 D281            305             SETB    SMG2                    ;Æ¬Ñ¡°ÙÎ»
0197 7D02            306             MOV     R5,#02                  ;ÑÓÊ±´ÎÊ
0199 11DB            307             ACALL   L_DELAY                 ;ÑÓÊ±£¬²úÉú¹ö¶¯Ð§¹û
                     308     
                     309     
                     310             
019B E8              311             MOV A,R0 
019C 9001D8          312             MOV DPTR,#TELEPHONE_NUMBER    
019F 93              313             MOVC A,@A+DPTR
01A0 F5F0            314             MOV B,A
01A2 1201C6          315             LCALL K6_4
01A5 11EC            316             ACALL   LIGHT                   ;µ÷ÓÃ×Ó³ÌÐò£¬Èë¿Ú²ÎÊR4,Êä³öÁÁµÆÐÅºÅ
01A7 D282            317             SETB    SMG1                    ;Æ¬Ñ¡Ê®Î»
01A9 7D02            318             MOV     R5,#02                  ;ÑÓÊ±´ÎÊ
01AB 11DB            319             ACALL   L_DELAY                 ;ÑÓÊ±£¬²úÉú¹ö¶¯Ð§¹û
                     320     
                     321             
A51 MACRO ASSEMBLER  Q3_2                                                                 12/01/2022 12:06:01 PAGE     6

01AD E8              322             MOV A,R0    
01AE 9001D8          323             MOV DPTR,#TELEPHONE_NUMBER
01B1 93              324             MOVC A,@A+DPTR
01B2 F5F0            325             MOV B,A
01B4 1201C6          326             LCALL K6_4
01B7 11EC            327             ACALL   LIGHT                   ;µ÷ÓÃ×Ó³ÌÐò£¬Èë¿Ú²ÎÊR4,Êä³öÁÁµÆÐÅºÅ
01B9 D283            328             SETB    SMG0                    ;Æ¬Ñ¡¸öÎ»
01BB 7D02            329             MOV     R5,#02                  ;ÑÓÊ±´ÎÊ
01BD 11DB            330             ACALL   L_DELAY                 ;ÑÓÊ±£¬²úÉú¹ö¶¯Ð§¹û
                     331     
01BF 18              332             DEC R0                                  ;È¡ÏÂÒ»¸öºÅÂë
01C0 B800B4          333             CJNE R0,#00H,GUN_PRINT
01C3 020175          334             LJMP G1
                     335     
01C6                 336     K6_4:
01C6 7E0F            337             MOV     R6,#15          ;Ê®Áù¼ü²é±í¼ÆÊ³õÖµ
01C8 7C00            338             MOV     R4,#0                   ;¼ÆÊÖ¸Õë
01CA 9001F3          339             MOV     DPTR,#SMGTAB    ;×°Èë¾ØÕó¼üÅÌÐÐÁÐ¶ÔÕÕ±íÍ·
01CD                 340     K7_4:
01CD EC              341         MOV     A,R4            ;Ö¸Õë¸³Öµ¸øA
01CE 93              342             MOVC    A,@A+DPTR               ;½«°´¼üÖµÓë¾ØÕó¼üÅÌÐÐÁÐ¶ÔÕÕ±í±È½Ï
01CF B5F002          343             CJNE    A,B,K8_4         ;Öµ²»ÏàÍ¬ÌøÈëÏÂ´Î±È½Ï
01D2 21D7            344             AJMP    K9_4             ;Ìø×ª×Ó³ÌÐò³ö¿Ú
01D4                 345     K8_4:
01D4 0C              346             INC     R4               ;¼ÆÊÖ¸Õë×ÔÔö
01D5 DEF6            347             DJNZ    R6,K7_4          ;Î´Ö¸Ïò×îºóÒ»Î»Ôò½øÈëÏÂÒ»´Î±È½Ï
01D7                 348     K9_4:
01D7 22              349         RET                     ;×Ó³ÌÐò³ö¿Ú
                     350     
                     351     ;µç»°±í
01D8                 352     TELEPHONE_NUMBER:
01D8 065B4F66        353             DB 06H,5BH,4FH,66H,6DH,7DH
01DC 6D7D                    
01DE 07065B4F        354             DB 07H,06H,5BH,4FH,66H
01E2 66                      
                     355     
01E3                 356     TELEPHONE:      
01E3 3F065B4F        357         DB  3FH,06H,5BH,4FH,66H,6DH,7DH,07H   ;0(00),1(01),2(02),3(03),4(04),5(05),6(06),7(07)
01E7 666D7D07                
01EB 7F67777C        358             DB  7FH,67H,77H,7CH,39H,5EH,79H,71H       ;8(08),9(09),A(10),B(11),C(12),D(13),E(14
                             ),F(15)
01EF 395E7971                
                     359     
                     360     ;ÊÂë¹Ü¶ÎÂë±í
01F3                 361     SMGTAB: 
01F3 3F065B4F        362             DB  3FH,06H,5BH,4FH,66H,6DH,7DH,07H       ;0(00),1(01),2(02),3(03),4(04),5(05),6(06
                             ),7(07)
01F7 666D7D07                
01FB 7F67777C        363             DB  7FH,67H,77H,7CH,39H,5EH,79H,71H       ;8(08),9(09),A(10),B(11),C(12),D(13),E(14
                             ),F(15)
01FF 395E7971                
0203 7638373E        364             DB  76H,38H,37H,3EH,73H,5CH,80H,40H       ;H(16),L(17),n(18),u(19),P(20),o(21),.(22
                             ),-(23)
0207 735C8040                
                     365     
                     366     ;¾ØÕó¼üÅÌÐÐÁÐ¶ÔÕÕ±í     
020B                 367     KEYTAB:                                         ;   7   B        D        E
020B 777B7D7E        368         DB  077H,07BH,07DH,07EH     ;7  (0)  (1)  (2)  (3) 
020F B7BBBDBE        369             DB  0B7H,0BBH,0BDH,0BEH         ;B (4)  (5)     (6)      (7)
0213 D7DBDDDE        370             DB  0D7H,0DBH,0DDH,0DEH          ;D (8)  (9)    (A)      (B)
0217 E7EBEDEE        371             DB  0E7H,0EBH,0EDH,0EEH          ;E (C)  (D)    (E)      (F)
                     372     
                     373     END
                             
                                       
A51 MACRO ASSEMBLER  Q3_2                                                                 12/01/2022 12:06:01 PAGE     7

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

B. . . . . . . . .  D ADDR   00F0H   A   
DAT. . . . . . . .  B ADDR   0080H.7 A   
DELAY0 . . . . . .  C ADDR   00E5H   A   
DELAY1 . . . . . .  C ADDR   00E7H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
EX0. . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . .  B ADDR   00A8H.2 A   
G1 . . . . . . . .  C ADDR   0175H   A   
GUN_PRINT. . . . .  C ADDR   0177H   A   
IT0. . . . . . . .  B ADDR   0088H.0 A   
IT1. . . . . . . .  B ADDR   0088H.2 A   
K1 . . . . . . . .  C ADDR   0119H   A   
K2 . . . . . . . .  C ADDR   0127H   A   
K3 . . . . . . . .  C ADDR   012DH   A   
K4 . . . . . . . .  C ADDR   0130H   A   
K5 . . . . . . . .  C ADDR   0135H   A   
K6 . . . . . . . .  C ADDR   013DH   A   
K6_4 . . . . . . .  C ADDR   01C6H   A   
K7 . . . . . . . .  C ADDR   0144H   A   
K7_4 . . . . . . .  C ADDR   01CDH   A   
K8 . . . . . . . .  C ADDR   014BH   A   
K8_4 . . . . . . .  C ADDR   01D4H   A   
K9 . . . . . . . .  C ADDR   014EH   A   
K9_4 . . . . . . .  C ADDR   01D7H   A   
KB . . . . . . . .  C ADDR   010EH   A   
KEYTAB . . . . . .  C ADDR   020BH   A   
LIGHT. . . . . . .  C ADDR   00ECH   A   
LIGHT_3. . . . . .  C ADDR   00BCH   A   
L_DELAY. . . . . .  C ADDR   00DBH   A   
MAIN1. . . . . . .  C ADDR   0030H   A   
MAIN2. . . . . . .  C ADDR   0071H   A   
MAIN3. . . . . . .  C ADDR   00A5H   A   
MAIN4. . . . . . .  C ADDR   014FH   A   
M_DELAY. . . . . .  C ADDR   00DFH   A   
P0 . . . . . . . .  D ADDR   0080H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
PCON . . . . . . .  D ADDR   0087H   A   
PX0. . . . . . . .  B ADDR   00B8H.0 A   
PX1. . . . . . . .  B ADDR   00B8H.2 A   
RCK. . . . . . . .  B ADDR   0080H.5 A   
REC. . . . . . . .  C ADDR   00D4H   A   
RI . . . . . . . .  B ADDR   0098H.0 A   
RST. . . . . . . .  B ADDR   0080H.6 A   
SBUF . . . . . . .  D ADDR   0099H   A   
SCK. . . . . . . .  B ADDR   0080H.4 A   
SCON . . . . . . .  D ADDR   0098H   A   
SCR0LL_LIGHT . . .  C ADDR   0076H   A   
SEND . . . . . . .  C ADDR   00C8H   A   
SEND_4 . . . . . .  C ADDR   0162H   A   
SER. . . . . . . .  C ADDR   0100H   A   
SMG0 . . . . . . .  B ADDR   0080H.3 A   
SMG1 . . . . . . .  B ADDR   0080H.2 A   
SMG2 . . . . . . .  B ADDR   0080H.1 A   
SMG3 . . . . . . .  B ADDR   0080H.0 A   
SMGDIP . . . . . .  C ADDR   00F8H   A   
SMGTAB . . . . . .  C ADDR   01F3H   A   
SP . . . . . . . .  D ADDR   0081H   A   
S_DELAY. . . . . .  C ADDR   00E3H   A   
TELEPHONE. . . . .  C ADDR   01E3H   A   
TELEPHONE_NUMBER .  C ADDR   01D8H   A   
A51 MACRO ASSEMBLER  Q3_2                                                                 12/01/2022 12:06:01 PAGE     8

TH1. . . . . . . .  D ADDR   008DH   A   
TI . . . . . . . .  B ADDR   0098H.1 A   
TL1. . . . . . . .  D ADDR   008BH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TR1. . . . . . . .  B ADDR   0088H.6 A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
